{
    "get": {
        "summary": "Obter eventos do calendário",
        "tags": [
            "HU007"
        ],
        "description": "Retorna uma lista de registros de eventos do calendário (Micções, histórico de treino). Caso não receba os parâmetros de filtro, retorna apenas registros do **mês atual**.",
        "security": [{
            "bearerAuth": []
        }],
        "parameters": [
            {
                "name": "from",
                "in": "query",
                "required": false,
                "description": "Data de início para filtrar eventos",
                "schema": {
                    "type": "string",
                    "format": "date"
                }
            },
            {
                "name": "to",
                "in": "query",
                "required": false,
                "description": "Data de término para filtrar eventos",
                "schema": {
                    "type": "string",
                    "format": "date"
                }
            }
        ],
        "responses": {
            "200": {
                "description": "Lista de eventos do calendário",
                "content": {
                    "application/json": {
                        "schema": {
                            "$ref": "../../components/schemas/calendarEvent.json"
                        }
                    }
                }
            },
            "400": {
                "description": "Erro na validação dos dados"
            },
            "500": {
                "description": "Erro interno do servidor"
            }
        }
    },
    "put": {
    "summary": "Adiciona ou atualiza um evento no diário miccional",
    "tags": [
        "HU006"
    ],
    "description": "Registra eventos de um dia no calendário do usuário.",
    "security": [
        { "bearerAuth": [] }
    ],
    "parameters": [
        {
            "name": "userId",
            "in": "path",
            "required": true,
            "description": "Id do usuário.",
            "schema": {
                "type": "string"
            }
        },
        {
            "name": "date",
            "in": "query",
            "required": true,
            "description": "Data no diário.",
            "schema": {
                "type": "string",
                "format": "date"
            }
        }
    ],
    "requestBody": {
        "required": true,
        "content": {
            "application/json": {
                "schema": {
                    "type": "object",
                    "properties": {
                        "leakageLevel": {
                            "type": "string",
                            "enum": ["NONE", "LOW", "MEDIUM", "HIGH"],
                            "description": "Nível de vazamento ou urgência dos eventos do dia"
                        },
                        "eventsCount": {
                            "type": "integer",
                            "minimum": 0,
                            "description": "Quantidade de micções registradas"
                        },
                        "completedExercises": {
                            "type": "integer",
                            "minimum": 0,
                            "description": "Número de exercícios completados no dia"
                        },
                        "notesPreview": {
                            "type": "string",
                            "maxLength": 255,
                            "description": "Preview das anotações do dia"
                        }
                    }
                }
            }
        }
    },
    "responses": {
        "201": {
            "description": "Evento criado com sucesso."
        },
        "400": {
            "description": "Erro na validação dos dados."
        },
        "401": {
            "description": "Token de autenticação ausente ou inválido."
        },
        "403": {
            "description": "Usuário não tem permissão para criar evento."
        },
        "404": {
            "description": "Usuário não encontrado."
        },
        "500": {
            "description": "Erro interno do servidor."
        }
    }
}
}