{
"get": {
    "summary": "Retorna comentários de uma publicação.",
    "tags": ["HU013"],
    "description": "Retorna os comentários com opção de paginação.",
    "parameters": [
    {
        "name": "id",
        "in": "path",
        "description": "Id da publicação.",
        "required": true,
        "schema": { "type": "string" }
    },
    {
        "name": "limit",
        "in": "query",
        "description": "Quantidade de comentários retornados.",
        "required": false,
        "schema": {
        "type": "integer",
        "default": 50,
        "minimum": 0,
        "maximum": 50
        }
    },
    {
        "name": "offset",
        "in": "query",
        "description": "Número de comentários a serem ignorados.",
        "required": false,
        "schema": {
        "type": "integer",
        "default": 0,
        "minimum": 0
        }
    }
    ],
    "security": [
    { "bearerAuth": [] }
    ],
    "responses": {
    "200": {
        "description": "Publicação retornada com sucesso.",
        "content": {
        "application/json": {
            "schema": {
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "id": { "type": "string" },
                    "comment": { "type": "string" },
                    "parentId": { "type": ["string", null], "description": "Id do comentário pai (para respostas)" },
                    "createdAt": { "type": "string", "format": "date-time" },
                    "updatedAt": { "type": "string", "format": "date-time" },
                    "likes": { "type": "number" },
                    "hasLiked": { "type": "boolean" }
                }
            }
            }
        }
        }   
    },
    "400": { "description": "Parâmetros de requisição inválidos." },
    "401": { "description": "Token de autenticação ausente ou inválido." },
    "403": { "description": "Usuário não tem permissão para acessar este recurso." },
    "404": { "description": "Publicação não encontrada." },
    "500": { "description": "Erro interno do servidor." }
    }
},
"post": {
    "summary": "Cria um comentário em uma publicação da comunidade",
    "tags": ["HU013"],
    "description": "Cria um novo comentário na publicação da comunidade. Para responder um comentário, informe o commentId.",
    "parameters": [
    {
        "name": "id",
        "in": "path",
        "description": "Id da publicação.",
        "required": true,
        "schema": { "type": "string" }
    }
    ],
    "security": [
    { "bearerAuth": [] }
    ],
    "requestBody": {
    "required": true,
    "content": {
        "application/json": {
        "schema": {
            "type": "object",
            "properties": {
            "userId": {
                "type": "string",
                "description": "Id do usuário."
            },
            "comment": {
                "type": "string",
                "description": "Texto do comentário."
            },
            "parentId": {
                "type": ["string", "null"],
                "description": "Id do comentário pai (para respostas) ou null."
            }
            },
            "required": ["userId", "comment"]
        }
        }
    }
    },
    "responses": {
    "201": { "description": "Comentário criado com sucesso." },
    "400": { "description": "Dados de requisição inválidos." },
    "401": { "description": "Token de autenticação ausente ou inválido." },
    "403": { "description": "Usuário não tem permissão para comentar." },
    "404": { "description": "Publicação ou usuário não encontrado." },
    "500": { "description": "Erro interno do servidor." }
    }
}
}